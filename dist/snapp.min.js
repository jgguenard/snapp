var sn;
(function(b){b.vdom={operation:{APPEND_CHILD:"APPEND_CHILD",REPLACE_CHILD:"REPLACE_CHILD",REMOVE_CHILD:"REMOVE_CHILD",REMOVE_ATTRIBUTE:"REMOVE_ATTRIBUTE",SET_ATTRIBUTE:"SET_ATTRIBUTE",SET_EVENT:"SET_EVENT"},allowedTagName:"A ABBR ADDRESS AREA ARTICLE ASIDE AUDIO B BASE BDI BDO BGSOUND BLOCKQUOTE BODY BR BUTTON CANVAS CAPTION CITE CODE COL COLGROUP COMMAND CONTENT DATA DATALIST DD DEL DETAILS DFN DIALOG DIV DL DT ELEMENT EM EMBED FIELDSET FIGCAPTION FIGURE FONT FOOTER FORM H1 H2 H3 H4 H5 H6 HEAD HEADER HGROUP HR HTML I IFRAME IMAGE IMG INPUT INS KBD KEYGEN LABEL LEGEND LI LINK MAIN MAP MARK MARQUEE MENU MENUITEM META METER MULTICOL NAV NOBR NOEMBED NOFRAMES NOSCRIPT OBJECT OL OPTGROUP OPTION OUTPUT P PARAM PICTURE PRE PROGRESS Q RP RT RTC RUBY S SAMP SCRIPT SECTION SELECT SHADOW SMALL SOURCE SPAN STRONG STYLE SUB SUMMARY SUP TABLE TBODY TD TEMPLATE TEXTAREA TFOOT TH THEAD TIME TITLE TR TRACK U UL VAR VIDEO WBR".split(" "),node:{COMMENT:8,
ELEMENT:1,TEXT:3,HTML:98,COMPONENT:99},setAttribute:function(a,c,b){!0===a.$virtual?a.attributes[c]=b:"class"===c?a.className=b:"style"===c?a.style.cssText=b:"type"!==c&&c in a||"string"!==typeof b?a[c]=null==b?"":b:a.setAttribute?a.setAttribute(c,b):a.attributes&&(a.attributes[c].value=b)},getAttribute:function(a,c){return!0===a.$virtual?a.attributes[c]:"class"===c?a.className:"style"===c?a.style.cssText:"type"!==c&&c in a?a[c]:a.getAttribute?a.getAttribute(c):a.attributes?a.attributes[c].value:
null},removeAttribute:function(a,c){!0===a.$virtual?delete a.attributes[c]:"class"===c?a.className="":"style"===c?a.style.cssText="":"type"!==c&&c in a?a[c]="":a.removeAttribute?a.removeAttribute(c):a.attributes&&delete a.attributes[c]},patch:function(a,c){for(var e in a){var d=a[e];switch(d.type){case b.vdom.operation.APPEND_CHILD:d.target.appendChild(this.createRealNode(d.child,c));break;case b.vdom.operation.REPLACE_CHILD:d.target.replaceChild(this.createRealNode(d.child,c),d.oldChild);break;case b.vdom.operation.REMOVE_CHILD:d.target.removeChild(d.child);
break;case b.vdom.operation.REMOVE_ATTRIBUTE:this.removeAttribute(d.target,d.name);break;case b.vdom.operation.SET_ATTRIBUTE:"function"===typeof d.value&&(d.value=d.value.bind(c)),this.setAttribute(d.target,d.name,d.value)}}},diffAttributes:function(a,c){for(var e=[],d=a.attributes||[],f=c.attributes||{},h=0;h<d.length;h++){var g=d[h],k=f[g.name],l=this.getAttribute(a,g.name),n=this.getAttribute(c,g.name);k?l!==n&&e.push({type:b.vdom.operation.SET_ATTRIBUTE,target:a,name:g.name,value:n}):e.push({type:b.vdom.operation.REMOVE_ATTRIBUTE,
target:a,name:g.name})}for(var m in f){f=!1;for(h=0;h<d.length;h++)if(d[h].name===m){f=!0;break}f||(f=this.getAttribute(c,m),e.push({type:b.vdom.operation.SET_ATTRIBUTE,target:a,name:m,value:f}))}return e},diffChildren:function(a,c){var e=[],d=[];c.childNodes&&c.childNodes.map(function(a){b.isArray(a)?d=d.concat(a):d.push(a)});for(var f=d.length,h=a.childNodes?a.childNodes.length:0,g=0;g<f;g++){var k=d[g],l=a.childNodes?a.childNodes[g]:null;b.isObject(k)||(k={nodeType:b.vdom.node.TEXT,textContent:k,
attributes:{},childNodes:[]});if(l)if(b.isEmpty(k))e.push({type:b.vdom.operation.REMOVE_CHILD,target:a,child:a.childNodes[g]});else if(l.nodeType!==k.nodeType||l.tagName!==k.tagName){var n=k.nodeType===b.vdom.node.COMPONENT,m=this.getAttribute(l,"data-sn-component");!n||m&&!b.component.hasDefinition(m,k.definition)?k.nodeType!==b.vdom.node.HTML?e.push({type:b.vdom.operation.REPLACE_CHILD,target:a,child:k,oldChild:l}):k.innerHTML!=l.outerHTML&&e.push({type:b.vdom.operation.SET_ATTRIBUTE,target:a,name:"innerHTML",
value:k.innerHTML}):m&&b.component.requestComponentRendering(m)}else e=e.concat(this.diff(l,k));else b.isEmpty(k)||e.push({type:b.vdom.operation.APPEND_CHILD,target:a,child:k})}if(f<h)for(;f<h;f++)e.push({type:b.vdom.operation.REMOVE_CHILD,target:a,child:a.childNodes[f]});return e},diff:function(a,c,e){var d=[];e||(d=d.concat(this.diffAttributes(a,c)));c.nodeType===b.vdom.node.TEXT?(e=this.getAttribute(c,"textContent"),e!=this.getAttribute(a,"textContent")&&d.push({type:b.vdom.operation.SET_ATTRIBUTE,
target:a,name:"textContent",value:e})):c.nodeType===b.vdom.node.HTML&&(e=this.getAttribute(c,"innerHTML"),e!=this.getAttribute(a,"innerHTML")&&d.push({type:b.vdom.operation.SET_ATTRIBUTE,target:a,name:"innerHTML",value:e}));return d=d.concat(this.diffChildren(a,c))},createRealNode:function(a,c){var e=this,d;if(a.nodeType===b.vdom.node.TEXT||a.nodeType===b.vdom.node.HTML)d=document.createTextNode(a.textContent);else if(a.nodeType===b.vdom.node.ELEMENT){d=document.createElement(a.tagName);if(0<a.childNodes.length){var f=
document.createDocumentFragment(),h="",g=function(a){b.isEmpty(a)||(b.isArray(a)?a.map(function(a){g(a)}):b.isObject(a)?a.nodeType===b.vdom.node.HTML?h+=a.innerHTML:f.appendChild(e.createRealNode(a,c)):g({nodeType:b.vdom.node.TEXT,textContent:a,attributes:{},childNodes:[]}))};a.childNodes.map(g);""!==h?a.attributes.innerHTML=h:d.appendChild&&d.appendChild(f)}for(var k in a.attributes){var l=a.attributes[k];"function"===typeof l&&(l=l.bind(c));this.setAttribute(d,k,l)}}else a.nodeType===b.vdom.node.COMPONENT&&
(d=document.createElement("DIV"),b.mount(d,a.definition,a.attributes));return d},createVirtualNode:function(a,c,e){if(!b.inArray(["string","object"],typeof a)||b.isEmpty(a))return b.error("Expecting a non-empty string or Object as first argument of el()");b.isDefined(e)||!b.isDefined(c)||!b.isArray(c)&&b.isObject(c)&&!0!==c.$virtual?c=c||{}:(e=b.copy(c),c={});if(b.isObject(a))a.$cdid||(a.$cdid=b.guid("snc")),a={nodeType:b.vdom.node.COMPONENT,definition:a};else{var d=a.toString().toUpperCase();b.inArray(b.vdom.allowedTagName,
d)?(a={nodeType:b.vdom.node.ELEMENT,tagName:d},b.isArray(e)?a.childNodes=e:b.isEmpty(e)?a.childNodes=[]:a.childNodes=[e]):!0===c.html?(a={nodeType:b.vdom.node.HTML,innerHTML:a},delete c.html):a={nodeType:b.vdom.node.TEXT,textContent:a}}a.$virtual=!0;a.attributes=c;return a}}})(sn||(sn={}));var el=sn.vdom.createVirtualNode;
(function(b){b.event={observers:{},emit:function(a,c){var b=this.observers[a];if(b)for(var d in b)b[d].callback(c)},addListener:function(a,c,e){this.observers[a]||(this.observers[a]=[]);var d=b.guid();this.observers[a].push({id:d,priority:e||1E3,callback:c});this.observers[a].sort(function(a,c){return a.priority<c.priority?-1:a.priority>c.priority?1:0});return d},removeListeners:function(a){this.observers[a]&&(this.observers[a]=null)},removeListener:function(a,c){if(this.observers[a])for(var b in this.observers[a])if(this.observers[b].id===
c){delete this.observers[b];break}},stopNativeEvent:function(a){a.preventDefault?(a.preventDefault(),a.stopPropagation()):(a.returnValue=!1,a.cancelBubble=!0)}}})(sn||(sn={}));
(function(b){b.router={routes:{},params:[],named_params:{},enabled:!1,getPath:function(){var a=window.location.href.match(/#(.*)$/);return"/"+this.clearSlashes(a?a[1]:"")},clearSlashes:function(a){return a.toString().replace(/\/$/,"").replace(/^\//,"")},param:function(a,c){return b.isInteger(a)?this.params[a]||c:this.named_params[a]||c},update:function(){var a=this,c=this.getPath(),e=[],d={},c=c.replace(/[?&]+([^=&]+)=?([^&]*)?/gi,function(a,c,b){d[c]=decodeURIComponent(b);return""}),f={},h;for(h in this.routes){f.rule=
h;var g="^"+f.rule.replace(/:[^/]+/g,"([^/]+)")+"$";if(g=c.match(g)){g.shift();var c=f.rule.match(/:([^/:]+)/g),k;for(k in c)h=decodeURIComponent(g[k]),e.push(h),d[c[k].replace(":","")]=h;this.params=e;this.named_params=d;setTimeout(function(c){return function(){b.log("Taking route "+c.rule);a.routes[c.rule]();b.event.emit("sn.route.update",c.rule)}}(f),0);break}f={rule:f.rule}}},setEnabled:function(a){!0!==a||this.enabled?a||(window.removeEventListener("hashchange",this.update.bind(this)),this.enabled=
!1):(window.addEventListener("hashchange",this.update.bind(this)),this.enabled=!0,this.update())},setRoutes:function(a){this.routes=a;this.setEnabled(!0)},route:function(a,c){if(c)for(var b in c)a=a.replace(":"+b,encodeURIComponent(c[b]));window.location.href=window.location.href.replace(/#(.*)$/,"")+"#"+a}}})(sn||(sn={}));
(function(b){b.component={lifeCycle:["init","update","render","dispose"],hasDefinition:function(a,b){return a.definition.$cdid===b.$cdid},getIdentifier:function(a){return a.definition.name?a.definition.name:a.definition.$cdid},abortComponentRendering:function(a){a.$pendingRendering&&(b.log("Ignoring rendering request of component <"+b.component.getIdentifier(a)+">"),clearTimeout(a.$pendingRendering))},requestComponentRendering:function(a){this.abortComponentRendering(a);a.$pendingRendering=setTimeout(function(){a.render();
a.$pendingRendering=null},0)},observablePropertyChanged:function(a,e,d,f,h,g){b.log("Rendering component <"+b.component.getIdentifier(a)+"> triggered by <"+f.toString()+"> of scope <!"+e+">");this.requestComponentRendering(a);if(a=d.$observers?d.$observers[f]:null)for(var k in a)a[k](h,g)},observe:function(a,b,d){b.$observers||(b.$observers={});b.$observers[a]||(b.$observers[a]=[]);b.$observers[a].push(d)}};var a=function(a){this.definition=a;this.observables=[];this.scope=this.createScope()};a.prototype.createScope=
function(a){var e=this,d=b.guid();return new Proxy(a||{},{get:function(a,c){var g=d+c.toString();!b.isDefined(a[c])||b.isFunction(a[c])||"__proto__"===c||c.toString().startsWith("$")||b.inArray(e.observables,g)||(b.log("Observing property <"+c.toString()+"> of scope <"+d+">"),e.observables.push(g));return a[c]},set:function(a,c,g){var k=d+c.toString(),l=a[c];"object"!==typeof g||c.toString().startsWith("$")||(g=e.createScope(g));a[c]=g;g!==l&&!b.isFunction(g)&&b.inArray(e.observables,k)&&b.component.observablePropertyChanged(e,
d,a,c,g,l);return!0}})};a.prototype.mount=function(a,e){b.log("Mounting component <"+b.component.getIdentifier(this)+">");var d=b.vdom.getAttribute(a,"data-sn-component");b.isDefined(d)&&d.dispose();b.vdom.setAttribute(a,"data-sn-component",this);this.container=a;for(var f in this.definition)"function"==typeof this.definition[f]&&0>b.component.lifeCycle.indexOf(f)&&(this.scope[f]=this.definition[f]);this.init(e);this.update(e);b.log("Component <"+b.component.getIdentifier(this)+"> mounted")};a.prototype.controller=
function(a,b){if(this.definition[a])if(arguments){var d=[],f;for(f in b)d.push(b[f]);this.definition[a].apply(this.scope,d)}else this.definition[a].call(this.scope)};a.prototype.init=function(a){this.controller("init",a);b.log("Component <"+b.component.getIdentifier(this)+"> initialized")};a.prototype.update=function(a){this.controller("update",a);b.component.requestComponentRendering(this);b.log("Component <"+b.component.getIdentifier(this)+"> updated")};a.prototype.render=function(){if(this.definition.render){var a=
this.definition.render.call(this.scope),a=b.vdom.createVirtualNode(this.container.tagName,null,a),a=b.vdom.diff(this.container,a,!0);b.vdom.patch(a,this.scope);b.log("Component <"+b.component.getIdentifier(this)+"> rendered")}};a.prototype.dispose=function(){b.component.abortComponentRendering(this);this.definition.dispose&&this.definition.dispose.call(this.scope);b.log("Component <"+b.component.getIdentifier(this)+"> unmounted")};b.Component=a})(sn||(sn={}));
(function(b){var a=function(a,e,d,f){this.url=e;this.method=a;this.data=d;this.options=b.extend({timeout:5E3,async:!0,dataType:"JSON",withCredentials:!1,ct:"application/x-www-form-urlencoded"},f||{});this.init()};a.prototype.prepareParams=function(a,b){var d=[],f;for(f in a)if(a.hasOwnProperty(f)){var h=b?b+"["+f+"]":f,g=a[f];d.push("object"==typeof g?this.prepareParams(g,h):encodeURIComponent(h)+"="+encodeURIComponent(g))}return d.join("&")};a.prototype.stringToJSON=function(a){return JSON.parse(a)};
a.prototype.abort=function(){this.xhr.abort();this.failCallback&&this.failCallback(this.xhr.status);this.alwaysCallback&&this.alwaysCallback()};a.prototype.init=function(){var a=this;try{this.xhr=new XMLHttpRequest}catch(f){try{this.xhr=new ActiveXObject("Msxml2.XMLHTTP")}catch(h){return b.error("XMLHttpRequest not supported"),null}}this.xhr.withCredentials&&(this.xhr.withCredentials=this.options.withCredentials);this.xhr.onreadystatechange=function(){if(4==a.xhr.readyState){clearTimeout(a.requestTimeout);
if(200!=a.xhr.status)a.failCallback&&a.failCallback(a.xhr.responseText,a.xhr);else{var b=a.xhr.responseText;"JSON"===a.options.dataType&&(b=a.stringToJSON(b));a.successCallback&&a.successCallback(b,a.xhr)}a.alwaysCallback&&a.alwaysCallback(a.xhr.responseText,a.xhr)}};this.requestTimeout=setTimeout(function(){a.abort()},this.options.timeout);var e=this.method.toUpperCase(),d=this.url+(this.data&&"GET"===e?"?"+this.prepareParams(this.data):"");this.xhr.open(e,d,this.options.async);"POST"===e&&this.data?
(this.xhr.setRequestHeader("Content-type",this.options.ct),this.xhr.send(this.prepareParams(this.data))):this.xhr.send(null)};a.prototype.success=function(a){this.successCallback=a;return this};a.prototype.fail=function(a){this.failCallback=a;return this};a.prototype.always=function(a){this.alwaysCallback=a;return this};b.RequestObject=a;b.request={get:function(a,e,d){return new b.RequestObject("GET",a,e,d)},post:function(a,e,d){return new b.RequestObject("POST",a,e,d)}}})(sn||(sn={}));
(function(b){b.validation={required:function(a){return!b.isEmpty(a)},length:function(a,c){return a.length==c[0]},minlength:function(a,c){return a.length>=c[0]},maxlength:function(a,c){return a.length<=c[0]},min:function(a,c){return!isNaN(a)&&parseFloat(a)>=c[0]},max:function(a,c){return!isNaN(a)&&parseFloat(a)<=c[0]},between:function(a,c){if(isNaN(a))return!1;var b=parseFloat(a);return b>=c[0]&&b<=c[1]},email:function(a){return/^((([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+(\.([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+)*)|((\x22)((((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(([\x01-\x08\x0b\x0c\x0e-\x1f\x7f]|\x21|[\x23-\x5b]|[\x5d-\x7e]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(\\([\x01-\x09\x0b\x0c\x0d-\x7f]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]))))*(((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(\x22)))@((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))$/i.test(a)},
url:function(a){return RegExp("^(?:(?:https?|ftp)://)?(?:\\S+(?::\\S*)?@)?(?:(?:[1-9]\\d?|1\\d\\d|2[01]\\d|22[0-3])(?:\\.(?:1?\\d{1,2}|2[0-4]\\d|25[0-5])){2}(?:\\.(?:[1-9]\\d?|1\\d\\d|2[0-4]\\d|25[0-4]))|(?:(?:[a-z\\u00a1-\\uffff0-9]-*)*[a-z\\u00a1-\\uffff0-9]+)(?:\\.(?:[a-z\\u00a1-\\uffff0-9]-*)*[a-z\\u00a1-\\uffff0-9]+)*(?:\\.(?:[a-z\\u00a1-\\uffff]{2,})))(?::\\d{2,5})?(?:/\\S*)?$","i").test(a)},alphanum:function(a){return/^\w+$/i.test(a)},digits:function(a){return/^\d+$/.test(a)},number:function(a){return/^-?(\d*\.)?\d+(e[-+]?\d+)?$/i.test(a)},
integer:function(a){return/^-?\d+$/.test(a)}}})(sn||(sn={}));
(function(b){b.mask={add:function(a,c){this.masks[a]=c},getMask:function(a,c){return b.isObject(a)?a:b.isFunction(a)?a.apply({},c):this.masks[a]?this.masks[a].apply({},c):null},isPrintable:function(a){return 32<=a&&127>a},getKey:function(a){return window.event?window.event.keyCode:a?a.which:0},getRegexAt:function(a,c){return b.isArray(a)?a[c]:a},applyInputMask:function(a,c){var e=this.getKey(c);if(this.isPrintable(e)){a=this.getMask(a);var e=String.fromCharCode(e),d=this.getUnmaskedValue(a,c.target.value),
f=d.length,h=!0===a.reverse?this.getRegexAt(a.regex,a.slots-f-1):this.getRegexAt(a.regex,f);f<a.slots&&h.test(e)&&(c.target.value=this.applyMask(a,c.target.value+e,d+e));b.event.stopNativeEvent(c)}},applyMask:function(a,c,b){if(c)c=c.toString();else return c;a=this.getMask(a);if(!a)return c;b||(b=this.getUnmaskedValue(a,c));c="";if(!0===a.reverse)for(var d=0;d<b.length;d++){for(var f=b.charAt(b.length-d-1),h=a.format.length-c.length-1,g="";0<h&&"#"!=a.format.charAt(h);)g=a.format.charAt(h)+g,h--;
c=f+g+c}else for(d=0;d<b.length;d++){f=b.charAt(d);h=c.length+1;for(g="";h<a.format.length&&"#"!=a.format.charAt(h-1);)g+=a.format.charAt(h-1),h++;c+=g+f}return c},getUnmaskedValue:function(a,c){if(b.isEmpty(c))return c;c=c.toString();a=this.getMask(a);if(!a)return c;for(var e=0;e<a.slots&&e<c.length;e++)for(var d=this.getRegexAt(a.regex,e);!d.test(c.charAt(e))&&e<c.length;)c=c.substring(0,e)+c.substring(e+1);c.length>a.slots&&(c=c.substring(0,a.slots));return c},masks:{phone:function(){return{format:"(###) ###-####",
slots:10,regex:/\d/}},amount:function(a){a=b.extend({digits:2,digitSeparator:".",thousandSeparator:" "},a||{});var c="###"+a.thousandSeparator+"###"+a.thousandSeparator+"###"+a.thousandSeparator+"###"+a.thousandSeparator+"###";0<a.digits&&(c+=a.digitSeparator+"#".repeat(a.digits));return{format:c,slots:15+a.digits,reverse:!0,regex:/\d/}}}}})(sn||(sn={}));
(function(b){b.form=function(a,e){return new b.FormObject(a,e)};b.FormField={name:"FormField",init:function(a,e,d,f){var h=this;this.value=a[e]||"";b.component.observe(e,a,function(d,f){a.$fields[e]&&a.$fields[e].mask&&(d=b.mask.applyMask(a.$fields[e].mask,d));h.value=d})},update:function(a,e,d,f){var h=this;this.$form=a;this.$options=b.extend({updateEvent:"onchange",updateDebounce:0,choices:null,multiline:!1},f||{});this.$attributes=b.extend({name:e},d||{});var g=function(a){var c=a.target.value;
h.$options.mask&&(c=b.mask.applyMask(h.$options.mask,c),c!==a.target.value&&(a.target.value=c));h.$form.setFieldValue(e,c);h.$form.setPristine(!1)},k;this.$attributes[this.$options.updateEvent]=this.$options.updateDebounce?function(a){clearTimeout(k);k=setTimeout(g.bind(h,a),h.$options.updateDebounce)}:g;this.$options.mask&&(this.$attributes.onkeypress=b.mask.applyInputMask.bind(b.mask,this.$options.mask),this.$attributes.onblur=g)},render:function(){var a=b.copy(this.$attributes),e=b.isEmpty(a["class"]||
"")?"":a["class"]+" ";b.isEmpty(this.$form.$errors[a.name])?e+=b.config.form.validPrefix:(e+=b.config.form.invalidPrefix,this.$form.$errors[a.name].map(function(a){e+=" "+b.config.form.invalidPrefix+"-"+a.replace("_","-")}));a["class"]=e;var d=this.$options.choices?"SELECT":!0===this.$options.multiline?"TEXTAREA":"INPUT",f=[];if("SELECT"===d)for(var h in this.$options.choices)f.push(el("option",{value:h,selected:h==this.value},this.$options.choices[h]));else"INPUT"===d?(a.type||(a.type="text"),"checkbox"===
a.type?(a.checked=this.$options.value==this.value,a.value=this.$options.value):"radio"===a.type?a.checked=a.value==this.value:a.value=this.value):a.value=this.value;return el(d,a,f)}};var a=function(a,e){this.$fields=a||{};this.$errors={};this.$pristine=!0;b.isDefined(e)&&this.setFieldsValue(e)};a.prototype.serialize=function(){var a={},b;for(b in this.$fields)a[b]=this[b];return a};a.prototype.setPristine=function(a){this.$pristine=!0===a};a.prototype.setFieldValue=function(a,b){this[a]=b;this.validateField(a,
b)};a.prototype.setFieldsValue=function(a){for(var b in a)this.setFieldValue(b,a[b])};a.prototype.isValid=function(){for(var a in this.$errors)if(!b.isEmpty(this.$errors[a]))return!1;return!0};a.prototype.isPristine=function(){return this.$pristine};a.prototype.validateField=function(a,e){var d=[];if(this.$fields[a]){var f=this.$fields[a].validation;if(!b.isEmpty(f)){b.isArray(f)||(f=[f]);for(var h in f){var g=f[h].toString().toLowerCase(),k=null,l=g.indexOf(":");0<l&&(k=g.substring(l+1).split(","),
g=g.substring(0,l));b.validation[g]&&!0!==b.validation[g](e,k,a,this)&&d.push(g)}}}this.$errors[a]=d;return 0>d.length};a.prototype.field=function(a,e){b.isDefined(this[a])||this.setFieldValue(a,e?e.value||"":"");return el(b.FormField,{form:this,name:a,attributes:e,options:this.$fields[a]})};b.FormObject=a})(sn||(sn={}));
(function(b){b.version="0.1";b.config={logPrefix:"sn: ",debug:!0,form:{invalidPrefix:"sn-invalid",validPrefix:"sn-valid"}};b.error=function(a){if(!0===b.config.debug)throw Error(b.config.logPrefix+a);};b.log=function(a){!0===b.config.debug&&console.log(b.config.logPrefix+a)};b.extend=function(a,b){if(1>=arguments.length)return a;if(Object.assign)return Object.assign(a,b);for(var e in b)b.hasOwnProperty(e)&&(a[e]=b[e]);return a};b.copy=function(a,c){if(!b.isDefined(a)||!b.isObject(a))return a;if(void 0==
c)c=[];else{var e,d=c.length;for(e=0;e<d;e++)if(a===c[e])return a}c.push(a);if("function"==typeof a.clone)return a.clone(!0);if("[object Array]"==Object.prototype.toString.call(a)){d=a.slice();for(e=d.length;e--;)d[e]=b.copy(d[e],c);return d}if(a instanceof Date)return new Date(a.getTime());if(a instanceof RegExp)return new RegExp(a);if(a.nodeType&&"function"==typeof a.cloneNode)return a.cloneNode(!0);e=Object.getPrototypeOf?Object.getPrototypeOf(a):a.__proto__;e||(e=a.constructor.prototype);var d=
b.createObject(e),f;for(f in a)d[f]=b.copy(a[f],c);return d};b.createObject=function(a){function b(){}if(Object.create)return Object.create(a);b.prototype=a;return new b};b.isObject=function(a){return"object"===typeof a};b.isArray=function(a){return Array.isArray(a)};b.isDefined=function(a){return void 0!==a&&null!==a};b.isFunction=function(a){return"function"===typeof a};b.inArray=function(a,b){return 0<=a.indexOf(b)};b.isInteger=function(a){var b;return isNaN(a)?!1:(b=parseFloat(a),(0|b)===b)};
b.isEmpty=function(a){return!b.isDefined(a)||""===a||b.isArray(a)&&1>a.length||b.isObject(a)&&1>Object.keys(a).length};b.guid=function(a){function b(){return Math.floor(65536*(1+Math.random())).toString(16).substring(1)}return(a||"")+b()+b()+"-"+b()+"-"+b()+"-"+b()+"-"+b()+b()+b()};b.mount=function(a,c,e){var d=b.vdom.getAttribute(a,"data-sn-component");d&&b.component.hasDefinition(d,c)?d.update(e):(new b.Component(c)).mount(a,e)}})(sn||(sn={}));
